// const veg = [
//     {
//       "product__wrapper href": "https://blinkit.com/prn/broccoli/prid/369742",
//       "ProductTagstyles__Container-sc-1pmr8q3-0": "Sourced at 5 AM",
//       "image": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/369742a.jpg",
//       "tag": "13%\nOFF",
//       "sc-iBkjds src": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/369742a.jpg",
//       "etaTag-text 2": "8 mins",
//       "title": "Broccoli",
//       "weight": "1 piece (300 g - 400 g)",
//       "price": "₹205",
//       "markprice": "₹237"
//     },
//     {
//       "product__wrapper href": "https://blinkit.com/prn/red-capsicum/prid/39394",
//       "ProductTagstyles__Container-sc-1pmr8q3-0": "Sourced at 2 PM",
//       "image": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/39394a.jpg",
//       "tag": "19%\nOFF",
//       "sc-iBkjds src": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/39394a.jpg",
//       "etaTag-text 2": "8 mins",
//       "title": "Red Capsicum",
//       "weight": "1 piece (125 g - 175 g)",
//       "price": "₹46",
//       "markprice": "₹57"
//     },
//     {
//       "product__wrapper href": "https://blinkit.com/prn/yellow-capsicum/prid/39395",
//       "ProductTagstyles__Container-sc-1pmr8q3-0": "Sourced at 5 AM",
//       "image": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/39395a.jpg",
//       "tag": "20%\nOFF",
//       "sc-iBkjds src": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/39395a.jpg",
//       "etaTag-text 2": "8 mins",
//       "title": "Yellow Capsicum",
//       "weight": "1 piece (125 g - 175 g)",
//       "price": "₹46",
//       "markprice": "₹58"
//     },
//     {
//       "product__wrapper href": "https://blinkit.com/prn/green-zucchini/prid/257199",
//       "ProductTagstyles__Container-sc-1pmr8q3-0": "Sourced at 2 PM",
//       "image": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/257199a.jpg",
//       "tag": "20%\nOFF",
//       "sc-iBkjds src": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/257199a.jpg",
//       "etaTag-text 2": "8 mins",
//       "title": "Green Zucchini",
//       "weight": "1 piece (200 g - 250 g)",
//       "price": "₹73",
//       "markprice": "₹92"
//     },
//     {
//       "product__wrapper href": "https://blinkit.com/prn/valencia-orange/prid/242283",
//       "ProductTagstyles__Container-sc-1pmr8q3-0": "Sourced at 5 AM",
//       "image": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/462106a.jpg",
//       "tag": "17%\nOFF",
//       "sc-iBkjds src": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/242283a.jpg",
//       "etaTag-text 2": "8 mins",
//       "title": "Valencia Orange",
//       "weight": "3 pieces (550 g - 650 g)",
//       "price": "₹100",
//       "markprice": "₹121"
//     },
//     {
//       "product__wrapper href": "https://blinkit.com/prn/red-delicious-apple/prid/462106",
//       "ProductTagstyles__Container-sc-1pmr8q3-0": "Sourced at 2 PM",
//       "image": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/242283a.jpg",
//       "tag": "22%\nOFF",
//       "sc-iBkjds src": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/462106a.jpg",
//       "etaTag-text 2": "8 mins",
//       "title": "Red Delicious Apple",
//       "weight": "4 pieces (450 g - 650 g)",
//       "price": "₹248",
//       "markprice": "₹319"
//     },
//     {
//       "product__wrapper href": "https://blinkit.com/prn/blueberry/prid/362127",
//       "ProductTagstyles__Container-sc-1pmr8q3-0": "Sourced at 5 AM",
//       "image": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/362127a.jpg",
//       "tag": "14%\nOFF",
//       "sc-iBkjds src": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/362127a.jpg",
//       "etaTag-text 2": "8 mins",
//       "title": "Blueberry",
//       "weight": "125 g",
//       "price": "₹300",
//       "markprice": "₹351"
//     },
//     {
//       "product__wrapper href": "https://blinkit.com/prn/cherry-tomato/prid/440229",
//       "ProductTagstyles__Container-sc-1pmr8q3-0": "Sourced at 2 PM",
//       "image": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/440229a.jpg",
//       "tag": "17%\nOFF",
//       "sc-iBkjds src": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/440229a.jpg",
//       "etaTag-text 2": "8 mins",
//       "title": "Cherry Tomato",
//       "weight": "200 g",
//       "price": "₹93",
//       "markprice": "₹113"
//     },
//     {
//       "product__wrapper href": "https://blinkit.com/prn/baby-corn-packet/prid/137816",
//       "ProductTagstyles__Container-sc-1pmr8q3-0": "Sourced at 2 PM",
//       "image": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/137816a.jpg",
//       "tag": "18%\nOFF",
//       "sc-iBkjds src": "https://blinkit.com/cn/exotics/cid/1487/278",
//       "etaTag-text 2": "8 mins",
//       "title": "Baby Corn - Packet",
//       "weight": "200 g",
//       "price": "₹40",
//       "markprice": "₹49"
//     },
//     {
//       "product__wrapper href": "https://blinkit.com/prn/royal-gala-apple/prid/311059",
//       "ProductTagstyles__Container-sc-1pmr8q3-0": "Sourced at 2 PM",
//       "image": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/311059a.jpg",
//       "tag": "13%\nOFF",
//       "sc-iBkjds src": "https://blinkit.com/cn/exotics/cid/1487/278",
//       "etaTag-text 2": "8 mins",
//       "title": "Royal Gala Apple",
//       "weight": "4 pieces (450 g - 650 g)",
//       "price": "₹224",
//       "markprice": "₹259"
//     },
//     {
//       "product__wrapper href": "https://blinkit.com/prn/basil-leaves/prid/440230",
//       "ProductTagstyles__Container-sc-1pmr8q3-0": "Sourced at 5 AM",
//       "image": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/440230a.jpg",
//       "tag": "21%\nOFF",
//       "sc-iBkjds src": "https://blinkit.com/cn/exotics/cid/1487/278",
//       "etaTag-text 2": "8 mins",
//       "title": "Basil Leaves",
//       "weight": "50 g",
//       "price": "₹15",
//       "markprice": "₹19"
//     },
//     {
//       "product__wrapper href": "https://blinkit.com/prn/avocado/prid/311058",
//       "ProductTagstyles__Container-sc-1pmr8q3-0": "Sourced at 2 PM",
//       "image": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/311058a.jpg",
//       "tag": "16%\nOFF",
//       "sc-iBkjds src": "https://blinkit.com/cn/exotics/cid/1487/278",
//       "etaTag-text 2": "8 mins",
//       "title": "Avocado",
//       "weight": "1 piece (200 g - 300 g)",
//       "price": "₹195",
//       "markprice": "₹234"
//     },
//     {
//       "product__wrapper href": "https://blinkit.com/prn/bartlett-pear/prid/465535",
//       "ProductTagstyles__Container-sc-1pmr8q3-0": "Sourced at 5 AM",
//       "image": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/465535a.jpg",
//       "tag": "18%\nOFF",
//       "sc-iBkjds src": "https://blinkit.com/cn/exotics/cid/1487/278",
//       "etaTag-text 2": "8 mins",
//       "title": "Bartlett Pear",
//       "weight": "4 pieces (500 g - 600 g)",
//       "price": "₹111",
//       "markprice": "₹136"
//     },
//     {
//       "product__wrapper href": "https://blinkit.com/prn/dry-gucchi-jumbo-mushroom/prid/327317",
//       "ProductTagstyles__Container-sc-1pmr8q3-0": "",
//       "image": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/327317a.jpg",
//       "tag": "24%\nOFF",
//       "sc-iBkjds src": "https://blinkit.com/cn/exotics/cid/1487/278",
//       "etaTag-text 2": "30 mins",
//       "title": "Dry Gucchi Jumbo Mushroom",
//       "weight": "25 g",
//       "price": "₹900",
//       "markprice": "₹1199"
//     },
//     {
//       "product__wrapper href": "https://blinkit.com/prn/parsley/prid/443554",
//       "ProductTagstyles__Container-sc-1pmr8q3-0": "Sourced at 2 PM",
//       "image": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/443554a.jpg",
//       "tag": "22%\nOFF",
//       "sc-iBkjds src": "https://blinkit.com/cn/exotics/cid/1487/278",
//       "etaTag-text 2": "8 mins",
//       "title": "Parsley",
//       "weight": "50 g",
//       "price": "₹28",
//       "markprice": "₹36"
//     },
//     {
//       "product__wrapper href": "https://blinkit.com/prn/mini-orange/prid/69047",
//       "ProductTagstyles__Container-sc-1pmr8q3-0": "Sourced at 2 PM",
//       "image": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/69047a.jpg",
//       "tag": "17%\nOFF",
//       "sc-iBkjds src": "https://blinkit.com/cn/exotics/cid/1487/278",
//       "etaTag-text 2": "8 mins",
//       "title": "Mini Orange",
//       "weight": "500 g",
//       "price": "₹135",
//       "markprice": "₹164"
//     },
//     {
//       "product__wrapper href": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/375037a.jpg",
//       "ProductTagstyles__Container-sc-1pmr8q3-0": "",
//       "image": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/375037a.jpg",
//       "tag": "16%\nOFF",
//       "sc-iBkjds src": "https://blinkit.com/cn/exotics/cid/1487/278",
//       "etaTag-text 2": "30 mins",
//       "title": "Dry Chanterelle Sliced Mushroom",
//       "weight": "25 g",
//       "price": "₹750",
//       "markprice": "₹899"
//     },
//     {
//       "product__wrapper href": "https://blinkit.com/prn/dry-gucchi-mushroom/prid/3899",
//       "ProductTagstyles__Container-sc-1pmr8q3-0": "",
//       "image": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/3899a.jpg",
//       "tag": "16%\nOFF",
//       "sc-iBkjds src": "https://blinkit.com/cn/exotics/cid/1487/278",
//       "etaTag-text 2": "30 mins",
//       "title": "Dry Gucchi Mushroom",
//       "weight": "25 g",
//       "price": "₹750",
//       "markprice": "₹899"
//     },
//     {
//       "product__wrapper href": "https://blinkit.com/prn/dry-porcini-sliced-mushroom/prid/184278",
//       "ProductTagstyles__Container-sc-1pmr8q3-0": "",
//       "image": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/184278a.jpg",
//       "tag": "16%\nOFF",
//       "sc-iBkjds src": "https://blinkit.com/cn/exotics/cid/1487/278",
//       "etaTag-text 2": "30 mins",
//       "title": "Dry Porcini Sliced Mushroom",
//       "weight": "25 g",
//       "price": "₹750",
//       "markprice": "₹899"
//     },
//     {
//       "product__wrapper href": "https://blinkit.com/prn/green-apple/prid/336515",
//       "ProductTagstyles__Container-sc-1pmr8q3-0": "Sourced at 2 PM",
//       "image": "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/336515a.jpg",
//       "tag": "19%\nOFF",
//       "sc-iBkjds src": "https://blinkit.com/cn/exotics/cid/1487/278",
//       "etaTag-text 2": "8 mins",
//       "title": "Green Apple",
//       "weight": "4 pieces (500 g - 700 g)",
//       "price": "₹266",
//       "markprice": "₹332"
//     }
//   ]
let veg;

async function products() {
  try {
    let url = `https://vast-red-anemone-slip.cyclic.app/exotic`;

    let res = await fetch(url);

    let data = await res.json();
    // console.log(data);
    veg = data;
    display(data);
  } catch (error) {
    console.log(error);
  }
}
products();

function display(data) {
  document.getElementById("result").innerHTML = "";
  data.map(function (ele) {
    let temp = `<div class="inDiv" >
  <p class="a-tag">${ele.tag}</p>
  <img onclick="show('${ele.title}')" src="${ele.image}">
  <p class="a-time">${ele.time + " min"}</p>
  <div class="adjustpara">
  <div class="name-a">${ele.title}</div>
  <span>${ele.weight}</span>
  <div class="pricediv">
  <div>
  <p>${ele.price}</p>
  <p>${ele.markprice}</p>
  </div>
  
  
  <span class="addonchangeclick"><h5 onclick="clickonaddbtn('${ele.title}')">
  ADD</h5></span>
  
  
  </div>
  </div>
  
  </div>
  `;
    let div = document.createElement("div");
    div.setAttribute("class", "a-box");
    div.innerHTML = temp;
    let result = document.getElementById("result");
    result.append(div);
  });
}

// _________sorting_____________________

function sorting() {
  var selected = document.getElementById("sort").value;

  // console.log("sorting" + selected);
  // console.log("sorting" + veg);
  if (selected === "Relevance") {
    display(veg);
  }
  if (selected === "Price (Low to high)") {
    veg.sort(function (a, b) {
      let aa = Number(a.price.replace("₹", ""));
      let bb = Number(b.price.replace("₹", ""));
      if (Number(aa) > Number(bb)) return 1;
      if (Number(aa) < Number(bb)) return -1;
      return 0;
    });
    display(veg);
  }
  if (selected === "Price (High to low)") {
    veg.sort(function (a, b) {
      let aa = Number(a.price.replace("₹", ""));
      let bb = Number(b.price.replace("₹", ""));
      if (Number(aa) > Number(bb)) return -1;
      if (Number(aa) < Number(bb)) return 1;
      return 0;
    });
    display(veg);
  }
  if (selected === "Discount (High to low)") {
    veg.sort(function (a, b) {
      if (a.tag > b.tag) return -1;
      if (a.tag < b.tag) return 1;
      return 0;
    });
    display(veg);
  }
  if (selected === "Name (A to Z)") {
    veg.sort(function (a, b) {
      if (a.title < b.title) return -1;
      if (a.title > b.title) return 1;
      return 0;
    });
    display(veg);
  }
  if (selected === "Time (low to High)") {
    veg.sort(function (a, b) {
      if (Number(a.time) > Number(b.time)) return 1;
      if (Number(a.time) < Number(b.time)) return -1;
      return 0;
    });
    display(veg);
  }
}

// function startSpeechRecognition() {
//   // console.log("start");
//   document.getElementById("micsearch").className = "fas fa-microphone";
//   micflag = false;
//   // searchFormInput.focus();
//   console.log("Voice activated, SPEAK");
//   recognition.addEventListener("result", resultOfSpeechRecognition);
// }

// function endSpeechRecognition() {
//   micflag = true;

//   document.getElementById("micsearch").className = "fas fa-microphone-slash ";
//   searchFormInput.focus();
//   console.log("Speech recognition service disconnected");
// }
// function resultOfSpeechRecognition(event) {
//   const current = event.resultIndex;
//   const transcript = event.results[current][0].transcript;

//   if (transcript.toLowerCase().trim() === "stop recording") {
//     recognition.stop();
//   } else if (!searchFormInput.value) {
//     searchFormInput.value = transcript;
//   } else {
//     if (transcript.toLowerCase().trim() === "go") {
//       searchForm.submit();
//     } else if (transcript.toLowerCase().trim() === "reset input") {
//       searchFormInput.value = "";
//     } else {
//       searchFormInput.value = transcript;
//     }
//   }
// }
// document.getElementById("micsearch").addEventListener("click", micBtnClick);
// recognition.addEventListener("start", startSpeechRecognition);
// recognition.addEventListener("end", endSpeechRecognition);
