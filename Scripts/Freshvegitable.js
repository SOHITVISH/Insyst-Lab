// const veg =[
//     {
//         "tag" : "23% OFF",
//         "para" : "üçÉSourced at 5 AM",
//         "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/391306a.jpg",
//         "title" : "Onion",
//           "time" :  5,
//         "weight" : "1kg",
//         "price" : "‚Çπ30",
//         "markprice" : "‚Çπ39",
//     },
//     {
//         "tag" : "18% OFF",
//         "para" : "üçÉSourced at 2 PM",
//         "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/333785a.jpg",
//         "title" : "Potato (Chipsona) (Aloo)",
//           "time" :  2,
//         "weight" : "1kg",
//         "price" : "‚Çπ30",
//         "markprice" : "‚Çπ37",
//     },
//     {
//         "tag" : "14% OFF",
//         "para" : "üçÉSourced at 5 AM",
//         "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/3881a.jpg",
//         "title" : "Hybrid Tomato (Tamatar)",
//           "time" :  40,
//         "weight" : "500g",
//         "price" : "‚Çπ30",
//         "markprice" : "‚Çπ35",
//     },
//     {
//         "tag" : "15% OFF",
//         "para" : "üçÉSourced at 2 PM",
//         "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/423735a.jpg",
//         "title" : "Green Chilli (Hari Mirch)",
//           "time" :  50,
//         "weight" : "100g",
//         "price" : "‚Çπ17",
//         "markprice" : "‚Çπ20",
//     },
//     {
//         "tag" : "17% OFF",
//         "para" : "üçÉSourced at 2 AM",
//         "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/3888a.jpg",
//         "title" : "Green Capsicum (Shimla Mirch)",
//           "time" :  10,
//         "weight" : "250g - 280g",
//         "price" : "‚Çπ75",
//         "markprice" : "‚Çπ91",
//     },
//     {
//         "tag" : "20% OFF",
//         "para" : "üçÉSourced at 2 PM",
//         "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/10088a.jpg",
//         "title" : "Cucumber (Kheera)",
//           "time" :  42,
//         "weight" : "500g - 700g",
//         "price" : "‚Çπ49",
//         "markprice" : "‚Çπ62",
//     },
//     {
//         "tag" : "10% OFF",
//         "para" : "üçÉSourced at 5 AM",
//         "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/421703a.jpg",
//         "title" : "Ginger (Adrak)",
//           "time" :  11,
//         "weight" : "250g",
//         "price" : "‚Çπ32",
//         "markprice" : "‚Çπ40",
//     },
//     {
//         "tag" : "13% OFF",
//         "para" : "üçÉSourced at 2 PM",
//         "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/17748a.jpg",
//         "title" : "Lemon (Nimbu)",
//           "time" :  8,
//         "weight" : "6 pieces (150 g - 220 g)",
//         "price" : "‚Çπ25",
//         "markprice" : "‚Çπ29",
//     },
//     {
//         "tag" : "18% OFF",
//         "para" : "üçÉSourced at 2 PM",
//         "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/3913a.jpg",
//         "title" : "Orange Carrot (Gajar)",
//           "time" :  20,
//         "weight" : "200g - 250g",
//         "price" : "‚Çπ26",
//         "markprice" : "‚Çπ32",
//     },
//     {
//         "tag" : "18% OFF",
//         "para" : "üçÉSourced at 2 PM",
//         "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/445675a.jpg",
//         "title" : "Desi Tomato (Desi Tamatar)",
//           "time" :  15,
//         "weight" : "500g",
//         "price" : "‚Çπ41",
//         "markprice" : "‚Çπ50",
//     },
//     {
//         "tag" : "17% OFF",
//         "para" : "üçÉSourced at 2 PM",
//         "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/440229a.jpg",
//         "title" : "Cherry Tomato",
//           "time" :  40,
//         "weight" : "200g",
//         "price" : "‚Çπ93",
//         "markprice" : "‚Çπ113",
//     },
//     {
//         "tag" : "22% OFF",
//         "para" : "üçÉSourced at 2 PM",
//         "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/3889a.jpg",
//         "title" : "Coriander Bunch (Dhaniya)",
//           "time" :  25,
//         "weight" : "100g",
//         "price" : "‚Çπ45",
//         "markprice" : "‚Çπ58",
//     },
//     {
//         "tag" : "21% OFF",
//         "para" : "üçÉSourced at 2 PM",
//         "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/3898a.jpg",
//         "title" : "Lady Finger (Bhindi)",
//           "time" :  45,
//         "weight" : "250g",
//         "price" : "‚Çπ15",
//         "markprice" : "‚Çπ19",
//     },
//     {
//         "tag" : "13% OFF",
//         "para" : "üçÉSourced at 2 PM",
//         "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/39394a.jpg",
//         "title" : "Red Capsicum",
//           "time" :  15,
//         "weight" : "1 piece (125 g - 175 g)",
//         "price" : "‚Çπ56",
//         "markprice" : "‚Çπ65",
//     },
//     {
//         "tag" : "16% OFF",
//         "para" : "üçÉSourced at 2 PM",
//         "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/39395a.jpg",
//         "title" : "Yellow Capsicum",
//           "time" :  15,
//         "weight" : "1 piece (125 g - 175 g)",
//         "price" : "‚Çπ56",
//         "markprice" : "‚Çπ67",
//     },
//     // {
//     //     "tag" : "19% OFF",
//     //     "para" : "üçÉSourced at 2 PM",
//     //     "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/423735a.jpg",
//     //     "title" : "Green Chilli (Hari Mirch)",
//     //     "weight" : "100g",
//     //     "price" : "‚Çπ17",
//     //     "markprice" : "‚Çπ21",
//     // },
//     // {
//     //     "tag" : "17% OFF",
//     //     "para" : "üçÉSourced at 2 PM",
//     //     "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/438489a.jpg",
//     //     "title" : "Picador Chilli",
//     //     "weight" : "250g",
//     //     "price" : "‚Çπ43",
//     //     "markprice" : "‚Çπ52",
//     // },
//     // {
//     //     "tag" : "19% OFF",
//     //     "para" : "üçÉSourced at 2 PM",
//     //     "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/421703a.jpg",
//     //     "title" : "Ginger (Adrak)",
//     //     "weight" : "250g",
//     //     "price" : "‚Çπ57",
//     //     "markprice" : "‚Çπ79",
//     // },
//     // {
//     //     "tag" : "18% OFF",
//     //     "para" : "üçÉSourced at 2 PM",
//     //     "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/10088a.jpg",
//     //     "title" : "Cucumber (Kheera)",
//     //     "weight" : "500 g - 700 g",
//     //     "price" : "‚Çπ49",
//     //     "markprice" : "‚Çπ60",
//     // },
//     // {
//     //     "tag" : "18% OFF",
//     //     "para" : "üçÉSourced at 2 PM",
//     //     "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/4916a.jpg",
//     //     "title" : "French Beans",
//     //     "weight" : "250g",
//     //     "price" : "‚Çπ43",
//     //     "markprice" : "‚Çπ48",
//     // },
//     // {
//     //     "tag" : "12% OFF",
//     //     "para" : "üçÉSourced at 2 PM",
//     //     "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/217614a.jpg",
//     //     "title" : "Bottle Gourd (Lauki)",
//     //     "weight" : "1 piece (400 g - 600 g)",
//     //     "price" : "‚Çπ50",
//     //     "markprice" : "‚Çπ57",
//     // },
//     // {
//     //     "tag" : "13% OFF",
//     //     "para" : "üçÉSourced at 2 PM",
//     //     "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/253317a.jpg",
//     //     "title" : "Mushroom - Packet",
//     //     "weight" : "190 g - 200 g",
//     //     "price" : "‚Çπ51",
//     //     "markprice" : "‚Çπ59",
//     // },
//     // {
//     //     "tag" : "19% OFF",
//     //     "para" : "üçÉSourced at 2 PM",
//     //     "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/339153a.jpg",
//     //     "title" : "Cauliflower",
//     //     "weight" : "1 piece (400 g - 600 g)",
//     //     "price" : "‚Çπ38",
//     //     "markprice" : "‚Çπ57",
//     // },
//     // {
//     //     "tag" : "22% OFF",
//     //     "para" : "üçÉSourced at 2 PM",
//     //     "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/23343a.jpg",
//     //     "title" : "English Cucumber",
//     //     "weight" : "500g",
//     //     "price" : "‚Çπ45",
//     //     "markprice" : "‚Çπ58",
//     // },
//     // {
//     //     "tag" : "16% OFF",
//     //     "para" : "üçÉSourced at 2 PM",
//     //     "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/9098a.jpg",
//     //     "title" : "Black Brinjal (Bharta Baingan)",
//     //     "weight" : "500 g - 700 g",
//     //     "price" : "‚Çπ54",
//     //     "markprice" : "‚Çπ65",
//     // },
//     // {
//     //     "tag" : "20% OFF",
//     //     "para" : "üçÉSourced at 2 PM",
//     //     "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/489084a.jpg",
//     //     "title" : "Keto Veggie Mix",
//     //     "weight" : "Combo of 3",
//     //     "price" : "‚Çπ319",
//     //     "markprice" : "‚Çπ400",
//     // },
//     // {
//     //     "tag" : "21% OFF",
//     //     "para" : "üçÉSourced at 2 PM",
//     //     "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/3923a.jpg",
//     //     "title" : "Green Peas (Matar)",
//     //     "weight" : "250g",
//     //     "price" : "‚Çπ113",
//     //     "markprice" : "‚Çπ144",
//     // },
//     // {
//     //     "tag" : "19% OFF",
//     //     "para" : "üçÉSourced at 2 PM",
//     //     "image" : "https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=85,metadata=none,w=250,h=250/app/images/products/sliding_image/91891a.jpg",
//     //     "title" : "Sponge Gourd (Tori)",
//     //     "weight" : "400 g - 500 g",
//     //     "price" : "‚Çπ69",
//     //     "markprice" : "‚Çπ86",
//     // },

// ];

let veg;
async function products() {
  try {
    let url = `https://vast-red-anemone-slip.cyclic.app/Freshvegitable`;

    let res = await fetch(url);

    let data = await res.json();
    veg = data;
    display(data);
  } catch (error) {
    console.log(error);
  }
}
products();

function display(data) {
  document.getElementById("result").innerHTML = "";
  data.map(function (ele) {
    let temp = `<div class="inDiv">
    <p class="a-tag">${ele.tag}</p>
    <img onclick="show('${ele.title}')" src="${ele.image}">
    <p class="a-time">${ele.time + " min"}</p>
    <div class="adjustpara">
    <div class="name-a">${ele.title}</div>
    <span>${ele.weight}</span>
    <div class="pricediv">
    <div>
    <p>${ele.price}</p>
    <p>${ele.markprice}</p>
    </div>
    
    
    <span class="addonchangeclick"><h5 onclick="clickonaddbtn('${ele.title}')">
    ADD</h5></span>
    
    
    </div>
    </div>
    
    </div>
    `;
    let div = document.createElement("div");
    div.setAttribute("class", "a-box");
    div.innerHTML = temp;
    let result = document.getElementById("result");
    result.append(div);
  });
}

// _________sorting_____________________
function sorting() {
  var selected = document.getElementById("sort").value;

  // console.log("sorting" + selected);
  // console.log("sorting" + veg);
  if (selected === "Relevance") {
    display(veg);
  }
  if (selected === "Price (Low to high)") {
    veg.sort(function (a, b) {
      let aa = Number(a.price.replace("‚Çπ", ""));
      let bb = Number(b.price.replace("‚Çπ", ""));
      if (Number(aa) > Number(bb)) return 1;
      if (Number(aa) < Number(bb)) return -1;
      return 0;
    });
    display(veg);
  }
  if (selected === "Price (High to low)") {
    veg.sort(function (a, b) {
      let aa = Number(a.price.replace("‚Çπ", ""));
      let bb = Number(b.price.replace("‚Çπ", ""));
      if (Number(aa) > Number(bb)) return -1;
      if (Number(aa) < Number(bb)) return 1;
      return 0;
    });
    display(veg);
  }
  if (selected === "Discount (High to low)") {
    veg.sort(function (a, b) {
      if (a.tag > b.tag) return -1;
      if (a.tag < b.tag) return 1;
      return 0;
    });
    display(veg);
  }
  if (selected === "Name (A to Z)") {
    veg.sort(function (a, b) {
      if (a.title < b.title) return -1;
      if (a.title > b.title) return 1;
      return 0;
    });
    display(veg);
  }
  if (selected === "Time (low to High)") {
    veg.sort(function (a, b) {
      if (Number(a.time) > Number(b.time)) return 1;
      if (Number(a.time) < Number(b.time)) return -1;
      return 0;
    });
    display(veg);
  }
}

// function startSpeechRecognition() {
//   // console.log("start");
//   document.getElementById("micsearch").className = "fas fa-microphone";
//   micflag = false;
//   // searchFormInput.focus();
//   console.log("Voice activated, SPEAK");
//   recognition.addEventListener("result", resultOfSpeechRecognition);
// }

// function endSpeechRecognition() {
//   micflag = true;

//   document.getElementById("micsearch").className = "fas fa-microphone-slash ";
//   searchFormInput.focus();
//   console.log("Speech recognition service disconnected");
// }
// function resultOfSpeechRecognition(event) {
//   const current = event.resultIndex;
//   const transcript = event.results[current][0].transcript;

//   if (transcript.toLowerCase().trim() === "stop recording") {
//     recognition.stop();
//   } else if (!searchFormInput.value) {
//     searchFormInput.value = transcript;
//   } else {
//     if (transcript.toLowerCase().trim() === "go") {
//       searchForm.submit();
//     } else if (transcript.toLowerCase().trim() === "reset input") {
//       searchFormInput.value = "";
//     } else {
//       searchFormInput.value = transcript;
//     }
//   }
// }
// document.getElementById("micsearch").addEventListener("click", micBtnClick);
// recognition.addEventListener("start", startSpeechRecognition);
// recognition.addEventListener("end", endSpeechRecognition);
